spring:
  application:
    name: spring-gateway-demo
    http:
      encoding:
        charset: UTF-8
        enable: true
        force: true
      messages:
        encoding: UTF-8
  redis:
    host: oms.cache-redis-server
    port: 6379
#  http:
#    encoding:
#      charset: UTF-8
#      enable: true
#      force: true
#    messages:
#      encoding: UTF-8
  cloud:
      gateway:
        default-filters:
          - AddResponseHeader=Authorization
          - PrefixPath=/oauth,/oms
      nacos:
        discovery:
          server-addr: 127.0.0.1:8848
#          locator:
#            enabled: true
#        default-filters:
#        routes:
#
#        - id: route-to-lunar
#          uri: http://localhost:5188
#          predicates:
#          - Path= /gw/**
#          filters:
#          - StripPrefix=1

#开启端点
management:
  endpoints:
    web:
      exposure:
        include: '*'
    security:
      enabled: false

server:
  port: 7188
#  servlet:
#    context-path: /gateway-demo
##eureka.client.service-url.defaultZone=http://localhost:1111/eureka,http://localhost:1112/eureka

eureka:
  client:
    register-with-eureka: true
    service-url: #指定注册中心的地址，以便使用服务发现功能
      defaultZone: http://127.0.0.1:1111/eureka

    registry-fetch-interval-seconds: 10
    healthcheck:
      enabled: true
  instance:
    prefer-ip-address: true
    metadataMap:
      version: 1.0
#spring:

#spring:
#  cloud:
#    gateway:
#      default-filters:
#        - AddResponseHeader=X-Response-Default-Foo, Default-Bar
#        - PrefixPath=/httpbin
#feign.hystrix.enabled=true
#spring.zipkin.base-url=http://127.0.0.1:9411
#spring.sleuth.sampler.probability=1.0
#management.endpoints.web.exposure.include=hystrix.stream